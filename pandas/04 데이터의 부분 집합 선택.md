Series 및 DataFrame 데이터의 각 차원은 인덱스 객체에 의해 레이블되어 있으며, 인덱스는 데이터의 행과 열에 의미 있는 레이블을 제공하고, 이 레이블을 사용해 데이터를 선택할 수 있음

레이블이나 정수를 사용해 데이터를 선택할 수 있는데, 이는 딕셔너리와 리스트 기능을 합쳐 놓은것 

딕셔너리의 키는 문자열, 정수, 튜플과 같은 불변 객체의 레이블을 이용해 데이터를 선택하며, 리스트는 정수를 사용하거나 슬라이스 객체를 사용해 객체를 선택할 수 있음

### Series 데이터 선택

1. 인덱스 연산자
2. iloc 속성 
   정수(스칼라값 반환), 리스트(시리즈 반환), 슬라이스(시리즈 반환)
3. loc 속성
   레이블, 리스트, 슬라이스
iloc + loc >> 인덱서(indexers)라고 부르며, 이를 사용해 정수위치 또는 레이블을 사용해 데이터를 선택하며 인덱서들은 스칼라 값만이 아니라 리스트 또는 슬라이스

np.random.seed(1)
labels = list(np.random.choice(city.index, 4)) >> 랜덤으로 인덱스레이블 선택시

### DataFrame 행 선택

데이터프레임의 행을 선택할 때 가장 선호되고 명시적인 방법은 .iloc / .loc 인덱서를 사용하는 것이며, 이를 사용하면 행과 열을 독립적으로 선택할 수 있고, 동시에 선택할 수 도 있음

1. iloc 속성
   정수(Series 반환), 리스트(DataFrame 반환), 슬라이스(DataFrame 반환)
2. loc 속성
   슬라이스 표기도 가능하며, 마지막 레이블도 포함

df.iloc[[60,99,3]].index.tolist() >> 인덱스 레이블을 지정할 경우

### DataFrame 행과 열을 동시에 선택하기

데이터프레임에서 하나 이상의 열을 선택하려면 인덱스 연산자를 직접 사용하는 것이 좋으나 행과 열을 동시에 선택할 수 없으며 iloc / loc 인덱서에 쉼표로 구분된 정확한 행과 열을 동시 전달하여 선택

df.iloc[rows, columns]
df.loc[rows, columns]
행과 열을 지정하는 값은 스칼라, 리스트, 슬라이스 객체 또는 블리언 배열일 수 있음

df.iloc[스칼라, 스칼라] >> 값 반환, df.loc['레이블', '레이블'] >> 값 반환

[ ] 쉼표의 왼쪽은 항상 행 인덱스에 기반한 행을 선택하며, 쉼표의 오른쪽은 항상 열 인덱스에 기반한 열을 선택하는 것으로 반드시 동시에 선택해야 되는 것은 아님
모든 열을 따라 행의 일부를 선택할 경우에는 쉼표 다음에 콜론을 반드시 사용할 필요가 없음

### 정수와 레이블을 동시에 사용하여 데이터 선택

 iloc / loc 인덱서는 각각 정수와 레이블 위치를 사용해 데이터를 선택하지만, 동시에 두가지 형태를 조합해 사용할 수 없음 >> ix 정수와 레이블을 동시에 사용해 선택할 수 있으나  deprecated 

df.ix[:5, '레이블':'레이블'] 
col_start = df.columns.get_loc('레이블')
col_end = df.columns.get_loc('레이블') + 1
df.iloc[:5, col_start:col_end]

row_start = df.index[10]
row_end = df.index[15]
df.loc[row_start:row_end, '열이름01':'열이름02']
df.ix[10:16, '열이름01':'열이름02']  << ix 사용시
df.iloc[10:16].loc[:, '열이름01':'열이름02'] << 인덱서 체인 방법은 좋치 않음

### 스칼라 더 빠르게 선택하기

iloc / loc 인덱서는 Series / DataFrame 부터 단일 원소, 즉 스칼라 값을 선택하는 데 사용될 수 있으나 각각 iat, at 인덱서를 사용하면 동일한 결과를 더 빠르게 수행함

%timeit : 하나의 코드 라인 시간을 측정
%% timeit : 코드블록 전체에 대한 시간을 측정
%timeit df.loc['레이블', '레이블']

### 게으른 행 슬라이스

행을 선택할 때는 인덱스 연산자만 사용해 더 간단히 할 수 있는 방법이 있으나, 인덱스 연산자의 가장 중요한 기능은 DataFrame 열을 선택하는 것이고 행을 선택하려면 모호성이 없도록 iloc / loc 사용하는 것이 좋음

df[10:20:2]                                     >> 정수 슬라이싱으로 행 선택
ser[10:20:2]                                   >>정수  슬라이싱으로 행 선택
df['행레이블01':'행레이블02':10]    >> 레이블 슬라이싱으로 행 선택 
ser['행레이블01':'행레이블02':10]  >> 레이블 슬라이싱으로 행 선택

인덱스 연산자는 전달된 객체에 따라 작동 방법이 변경됨  
df[item]
item 문자열이면 정확히 일치하는 열 이름을 찾고 매칭되는 것이 없으면 KeyError 발생 > Ser 반환
item 문자열의 리스트이면 하나 또는 그이상의 문자열에 해당하는 열이 없으면 KeyError > DF 반환
item 슬라이스 객체면 레이블 슬라이스에 지정된 레이블이 인덱스 없으면 KeyError > 모든 열 반환
item 리스트, 블리언 Series / ndarray 면 item 길이가 df 길이와 다르면 ValueError > 블리언을 이용해 True 값을 가진 위체에 있는 행들만 반환

Series 인덱스 연산자는 더 복잡하며, 명시적으로 iloc, loc 인덱서를 사용하는 좋음(단 블리언 인덱스의 경우는 예외)
인덱스 연산자는 행과 열 선택이 안됨 > df[:10, ['열이름01':'열이름02']] >> TypeError 발생

### 사전 순서로 슬라이스
loc 인덱서는 대개 인덱스의 정확한 문자열에 기반해 선택하나, 인덱스의 사전 순서에 의해 데이터를 선택할 수 있는 방법도 제공되며 이 방법은 인덱스가 정렬된 경우만 사용 가능( 미정렬시 KeyError 발생)

df.sort_index(ascending=True) >> 숫자 > 대문자 > 소문자





